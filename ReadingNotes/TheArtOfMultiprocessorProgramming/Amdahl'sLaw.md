# Amdahl定律
**加速比** : 对于某一项工作，加速比指的是一个处理器完成该工作所用的时间与采用n个处理器并行完成该工作所用时间的比值。

Amdahl定律给出了n个处理器协同完成一项工作时可获得的最大加速比 **`S`**，其中 **`p`**表示的是该工作中可以被并行执行的部分。假设完成该工作需要 **`1`**个单位的时间，那么串行部分所需要的时间为 **`1-p`**，而并行部分需要的时间为 **`p/n`**。因此，采用并行处理之后，完成整个工作所需要的时间为：

$$
1 - p + \frac{p}{n}
$$

进一步可以得出加速比：

$$
S = \frac{1}{1 - p + \frac{p}{n}}
$$


Amdahl定律告诉我们：完成复杂工作可获得的加速比是有限的，并且受限于这个工作中<u>必须被串行执行的部分</u>。

对于一个给定的问题以及一台具有10个处理器的机器，由Amdahl定律可知，即使其中的90%可以并行，最终也只能获得5倍的加速比，而不是10倍：

$$
S = \frac{1}{1 - p + \frac{p}{n}} = \frac{1}{1 - 0.9 + \frac{0.9}{10}} = \frac{1}{1-0.9+0.09} \approx 5
$$

因此，要获得更高的加速比，就要尽可能地使得串行部分达到最大程度得并行。在并发程序设计里，我们也应该在保证程序正确地情况下尽可能地减少串行部分（ **同步代码块所包含指令数量**）。